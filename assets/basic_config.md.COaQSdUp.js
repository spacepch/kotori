import{_ as s,c as i,o as a,V as n}from"./chunks/framework.Dy019jra.js";const c=JSON.parse('{"title":"配置详解","description":"","frontmatter":{},"headers":[],"relativePath":"basic/config.md","filePath":"basic/config.md","lastUpdated":1712229374000}'),l={name:"basic/config.md"},t=n(`<h1 id="配置详解" tabindex="-1">配置详解 <a class="header-anchor" href="#配置详解" aria-label="Permalink to &quot;配置详解&quot;">​</a></h1><p>前面一节已对 <code>kotori.yml</code> 有了大概认识，本节内容将更为全面的介绍它。<code>kotori.yml</code> 是一个 Kotori 程序的核心配置文件，它一般位于 Kotori 根目录，与 package.json 文件同级，使用 YAML 格式。</p><blockquote><p>关于 YAML 格式的语法与规范请参考 <a href="https://www.runoob.com/w3cnote/yaml-intro.html" target="_blank" rel="noreferrer">YAML 入门教程</a></p></blockquote><p>以下是将先前的配置片段集中在一起的例子（仅作参考请勿直接复制）：</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">global</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  lang</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">zh_CN</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  command-prefix</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  dirs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">./node_modules/</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">./node_modules/@kotori-bot/</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # 上面为默认配置的加载目录</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">./node_modules/@custom-scope/</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">./test_modules</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">adapter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  cmd-test</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    extends</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">cmd</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    master</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2333</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    nickname</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Kotarou</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    age</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">18</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    sex</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">male</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    self-id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">720</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  kisaki</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    extends</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">qq</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    appid</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;xxxx&quot;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    secret</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;xxxxx&quot;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    master</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2333</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    retry</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">plugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  console</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;"> filter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {}</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    test</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  menu</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    alias</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">cd</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    keywords</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [ </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">菜单</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">功能</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">帮助</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    content</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">菜单 | 小鳥%break%/menu - 查看BOT菜单%break%/hitokoto - 获取一条一言%break%ByHotaru</span></span></code></pre></div><h2 id="global-lang" tabindex="-1">global.lang <a class="header-anchor" href="#global-lang" aria-label="Permalink to &quot;global.lang&quot;">​</a></h2><p>定义全局使用的语言，目前仅支持英语、日语、台湾语、中文四门语言。</p><ul><li>值：<code>LocaleType</code>，</li><li>默认值：<code>&#39;en_US&#39;</code></li></ul><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> LocaleType</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;en_US&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;ja_JP&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;zh_TW&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;zh_CN&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><h2 id="global-command-prefix" tabindex="-1">global[&#39;command-prefix&#39;] <a class="header-anchor" href="#global-command-prefix" aria-label="Permalink to &quot;global[&#39;command-prefix&#39;]&quot;">​</a></h2><p>定义全局使用的命令前缀。</p><ul><li>值：<strong>string</strong></li><li>默认值： <code>&#39;/&#39;</code></li></ul><h2 id="global-dirs" tabindex="-1">global.dirs <a class="header-anchor" href="#global-dirs" aria-label="Permalink to &quot;global.dirs&quot;">​</a></h2><p>定义需要加载的模块目录。</p><ul><li>值：<strong>string[]</strong></li><li>默认值：<code>[&#39;./node_modules/&#39;, &#39;./node_modules/@kotori-bot/&#39;]</code></li></ul><h2 id="global-filter" tabindex="-1">global.filter <a class="header-anchor" href="#global-filter" aria-label="Permalink to &quot;global.filter&quot;">​</a></h2><p>定义全局使用的过滤器，目前过滤器功能正在实现中，该项暂时无实际效果。</p><ul><li>值：{}</li><li>默认值：{}</li></ul><h2 id="adapter" tabindex="-1">adapter <a class="header-anchor" href="#adapter" aria-label="Permalink to &quot;adapter&quot;">​</a></h2><p>定义 Bot。</p><ul><li>值：<code>{ [botName: string]: AdapterConfig }</code></li><li>默认值：<code>{}</code></li><li>botName：Bot 的唯一标识符，可自定义，建议仅使用小写英语字母、数字、连字符字符（[a-z0-9-]）</li></ul><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> AdapterConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  extends</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  master</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  lang</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> langType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &#39;command-prefix&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  [</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">propName</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> unknown</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="adapterconfig-extends" tabindex="-1">AdapterConfig.extends <a class="header-anchor" href="#adapterconfig-extends" aria-label="Permalink to &quot;AdapterConfig.extends&quot;">​</a></h2><p>定义该 Bot 使用的适配器。</p><ul><li>值：<strong>string</strong></li><li>可选：否</li></ul><h2 id="adapterconfig-master" tabindex="-1">AdapterConfig.master <a class="header-anchor" href="#adapterconfig-master" aria-label="Permalink to &quot;AdapterConfig.master&quot;">​</a></h2><p>定义该 Bot 的最高管理员 id（即该用户在平台的 id）。</p><ul><li>值：<strong>string</strong> | <strong>number</strong></li><li>可选：是</li></ul><h2 id="adapterconfig-lang" tabindex="-1">AdapterConfig.lang <a class="header-anchor" href="#adapterconfig-lang" aria-label="Permalink to &quot;AdapterConfig.lang&quot;">​</a></h2><p>定义该 Bot 使用的语言。</p><ul><li>值：<code>LocaleType</code>，</li><li>默认值：继承自 <code>global.lang</code></li></ul><h2 id="adapterconfig-command-prefix" tabindex="-1">AdapterConfig[&#39;command-prefix&#39;] <a class="header-anchor" href="#adapterconfig-command-prefix" aria-label="Permalink to &quot;AdapterConfig[&#39;command-prefix&#39;]&quot;">​</a></h2><p>定义该 Bot 使用的命令前缀。</p><ul><li>值：<strong>string</strong></li><li>默认值： 继承自 <code>global[&#39;command-prefix&#39;]</code></li></ul><h2 id="adapterconfig-propname" tabindex="-1">AdapterConfig[propName] <a class="header-anchor" href="#adapterconfig-propname" aria-label="Permalink to &quot;AdapterConfig[propName]&quot;">​</a></h2><p>除去以上由 Kotori 内部定义的配置项，<code>extends</code> 中指定的适配器一般会额外定义配置项用于 Bot 内部，这些配置项也可能不存在或为可选，具体请参考该模块的详情页。</p><h2 id="plugin" tabindex="-1">plugin <a class="header-anchor" href="#plugin" aria-label="Permalink to &quot;plugin&quot;">​</a></h2><p>定义插件的配置项。</p><ul><li>值：<code>{ [pluginName: string]: PluginConfig }</code></li><li>默认值：<code>{}</code></li><li>pluginName：模块的 id，去掉该模块包名中的命名空间与模块前缀（Kotori-plugin-）部分</li></ul><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PluginConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  filter</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {};</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  [</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">propName</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> unknown</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="pluginconfig-filter" tabindex="-1">PluginConfig.filter <a class="header-anchor" href="#pluginconfig-filter" aria-label="Permalink to &quot;PluginConfig.filter&quot;">​</a></h2><p>定义该插件使用的过滤器。</p><ul><li>值：{}</li><li>默认值：{}</li></ul><h2 id="pluginconfig-propname" tabindex="-1">PluginConfig[propName] <a class="header-anchor" href="#pluginconfig-propname" aria-label="Permalink to &quot;PluginConfig[propName]&quot;">​</a></h2><p>类似于 AdapterConfig 中的 <code>[propName]</code>，该插件也可能会定义一些配置项用于插件内部，具体请参考该模块的详情页。</p>`,45),p=[t];function e(h,k,r,d,o,g){return a(),i("div",null,p)}const y=s(l,[["render",e]]);export{c as __pageData,y as default};
